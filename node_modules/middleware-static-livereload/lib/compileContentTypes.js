"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.compileContentTypes = void 0;
const path = require("path");
const ensureArray_1 = require("./ensureArray");
const defaultContentTypes_1 = require("./defaultContentTypes");
const compileContentTypes = (overrides = {}) => {
    const map = new Map();
    for (const types of [defaultContentTypes_1.defaultContentTypes, overrides]) {
        for (const [type, extensions] of Object.entries(types)) {
            for (const extension of ensureArray_1.ensureArray(extensions)) {
                map.set(extension, type);
            }
        }
    }
    return (file) => map.get(path.extname(file)) || null;
};
exports.compileContentTypes = compileContentTypes;
