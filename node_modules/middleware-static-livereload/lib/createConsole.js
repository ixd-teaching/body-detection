"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createConsole = void 0;
const LogLevel_1 = require("./LogLevel");
const createWriter_1 = require("./createWriter");
const createNoop = () => () => {
};
const createConsole = (parameters = {}) => {
    const inspectOptions = {
        colors: true,
        breakLength: 40,
        ...parameters.inspectOptions,
    };
    const stdout = parameters.stdout || process.stdout;
    const stderr = parameters.stderr || process.stderr;
    const out = createWriter_1.createWriter(stdout, inspectOptions);
    const err = createWriter_1.createWriter(stderr, inspectOptions);
    const ignore = Object.assign(createNoop(), { end: createNoop() });
    const logLevel = 'logLevel' in parameters ? parameters.logLevel : LogLevel_1.LogLevel.info;
    switch (logLevel) {
        case LogLevel_1.LogLevel.silent:
            return { logLevel, debug: ignore, info: ignore, error: ignore, stdout, stderr };
        case LogLevel_1.LogLevel.error:
            return { logLevel, debug: ignore, info: ignore, error: err, stdout, stderr };
        case LogLevel_1.LogLevel.info:
            return { logLevel, debug: ignore, info: out, error: err, stdout, stderr };
        case LogLevel_1.LogLevel.debug:
            return { logLevel, debug: out, info: out, error: err, stdout, stderr };
        default:
            throw new Error(`Invalid logLevel: ${logLevel}`);
    }
};
exports.createConsole = createConsole;
